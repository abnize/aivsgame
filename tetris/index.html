<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>í€´ì¦ˆ í…ŒíŠ¸ë¦¬ìŠ¤</title>

  <!-- í…ŒíŠ¸ë¦¬ìŠ¤ ìŠ¤íƒ€ì¼ -->
  <link rel="stylesheet" href="/aivsgame/tetris/style.css" />
</head>
<body>

  <!-- ================= í…ŒíŠ¸ë¦¬ìŠ¤ ì˜ì—­ ================= -->
  <div id="main-menu">
    <h1>í€´ì¦ˆ í…ŒíŠ¸ë¦¬ìŠ¤</h1>

    <!-- â­ game.jsê°€ ì°¾ëŠ” canvas -->
    <canvas id="gameCanvas" width="200" height="400"></canvas>

    <div class="button-box">
      <button id="pause-btn">â¸ ì ì‹œì •ì§€</button>
      <button id="home-btn">ğŸ  ë©”ì¸ìœ¼ë¡œ</button>
    </div>
  </div>

  <!-- ================= í€´ì¦ˆ ì˜¤ë²„ë ˆì´ ================= -->
  <div
    id="quizOverlay"
    class="hidden"
    style="
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    "
  >
    <div
      style="
        background: white;
        padding: 20px;
        border-radius: 15px;
        min-width: 300px;
      "
    >
      <div
        id="quizQuestion"
        style="font-weight: bold; margin-bottom: 10px;"
      ></div>
      <div id="quizOptions"></div>
    </div>
  </div>

  <!-- ================= í† ë¼ ================= -->
  <img
    id="bunny-img"
    src="/aivsgame/tetris/bunny_neutral.PNG"
    style="
      position: fixed;
      right: 40px;
      bottom: 120px;
      width: 80px;
      z-index: 5000;
    "
  />

  <div
    id="bunny-bubble"
    style="
      position: fixed;
      right: 140px;
      bottom: 160px;
      background: white;
      padding: 10px 14px;
      border-radius: 15px;
      font-size: 14px;
      z-index: 5000;
    "
  >
    â€¦
  </div>

  <!-- ================= ê³µìš© ì„¤ì • ================= -->
  <script>
    // GitHub Pages ê¸°ì¤€ ë£¨íŠ¸
    window.PUBLIC_URL = "/aivsgame";
  </script>

  <!-- ================= ê²Œì„ / í€´ì¦ˆ ë¡œì§ ================= -->
  <script src="/aivsgame/tetris/game.js"></script>
  <script src="/aivsgame/tetris/quiz.js"></script>

  <!-- ================= ì´ˆê¸°í™” ================= -->
  <script>
    // í…ŒíŠ¸ë¦¬ìŠ¤ ì‹œì‘
    window.initTetris();

    // ì¼ì‹œì •ì§€
    document.getElementById("pause-btn").onclick = () => {
      window.gamePaused = !window.gamePaused;
    };

    // ë©”ì¸ìœ¼ë¡œ (React HashRouter)
    document.getElementById("home-btn").onclick = () => {
      window.parent.location.hash = "/";
    };
  </script>

</body>
</html>
